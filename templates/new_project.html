{% extends "base.html" %}

{% block title %}New Project - Project Organizer{% endblock %}

{% block content %}
<div class="container">
    <h2>Create New Project</h2>

    <form method="POST" action="{{ url_for('new_project') }}">
        <div class="card">
            <h3>Project Details</h3>

            <div class="form-group">
                <label for="category_id">Category:</label>
                <select id="category_id" name="category_id" required>
                    <option value="">Select a category...</option>
                    {% for category in categories %}
                    <option value="{{ category.id }}" {% if selected_category_id == category.id %}selected{% endif %}>{{ category.name }}</option>
                    {% endfor %}
                </select>
            </div>

            <div class="form-group">
                <label for="implement">Implement:</label>
                <input type="text" id="implement" name="implement" placeholder="e.g., Tractor, Combine, etc.">
            </div>

            <div class="form-group">
                <label for="name">Project Name:</label>
                <input type="text" id="name" name="name" required>
            </div>

            <div class="form-group">
                <label for="tag">Type:</label>
                <select id="tag" name="tag" required>
                    {% for type in types %}
                    <option value="{{ type.name }}" {% if type.name == 'maintenance' %}selected{% endif %}>{{ type.name }}</option>
                    {% endfor %}
                </select>
            </div>

            <div class="form-group">
                <label for="information">Information:</label>
                <textarea id="information" name="information" rows="5"></textarea>
            </div>
        </div>

        <div class="card">
            <h3>Supplies Needed</h3>
            <p class="help-text">Enter one supply per line</p>
            <div class="form-group">
                <textarea id="supplies" name="supplies" rows="5" placeholder="e.g.,&#10;Wrench&#10;Oil filter&#10;New belt"></textarea>
            </div>
        </div>

        <div class="card">
            <h3>Initial Comments</h3>
            <p class="help-text">Add any initial notes or comments</p>
            <div class="form-group">
                <textarea id="comments" name="comments" rows="5" placeholder="Add initial comments about this project..."></textarea>
            </div>
        </div>

        <div class="actions">
            <button type="submit" class="btn">Create Project</button>
            <a href="{{ url_for('index') }}" class="btn btn-secondary">Cancel</a>
        </div>
    </form>
</div>
{% endblock %}
